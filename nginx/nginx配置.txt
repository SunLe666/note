Nginxå®ç°è´Ÿè½½å‡è¡¡

è¿›å…¥Nginxçš„é…ç½®æ–‡ä»¶å¤¹
cd /usr/local/nginx/conf

ç¼–è¾‘nginx.confé…ç½®æ–‡ä»¶
vim nginx.conf


æ–°å¢upstreamé›†ç¾¤é…ç½®ç‚¹
#æœåŠ¡å™¨çš„é›†ç¾¤ï¼ˆè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬è¦é…ç½®çš„åœ°æ–¹ï¼‰
#sunle.com:æœåŠ¡å™¨é›†ç¾¤åå­—,è‡ªå®šä¹‰
upstream  sunle.com {
	#æœåŠ¡å™¨é…ç½®   weightæ˜¯æƒé‡çš„æ„æ€ï¼Œæƒé‡è¶Šå¤§ï¼Œåˆ†é…çš„æ¦‚ç‡è¶Šå¤§ã€‚
	#127.0.0.1:8080ã€127.0.0.1:8081å¯¹åº”tomcatæœåŠ¡å™¨åœ°å€
	server    127.0.0.1:8080  weight=1;
	server    127.0.0.1:8081  weight=2;
}

server {  
	listen       81;
	server_name  localhost;

	location / {
		#é…ç½®åå‘ä»£ç†åœ°å€
		proxy_pass http://sunle.com;
		proxy_redirect default;
	}
}

é…ç½®å¥½ä¹‹åï¼Œè¿›å…¥/usr/local/nginx/sbin/ æ–‡ä»¶å¤¹ï¼Œé‡æ–°åˆ·æ–°é…ç½®æ–‡ä»¶
./nginx -s reload

====================================é…ç½®æ–‡ä»¶=============================================================

worker_processes  1;

events {
    worker_connections  1024;
}  
  
http {  
    include       mime.types;
	
    default_type  application/octet-stream;
	
    sendfile        on;

    keepalive_timeout  65;

    gzip  on;

     #æœåŠ¡å™¨çš„é›†ç¾¤ï¼ˆè¿™ä¸ªå°±æ˜¯æˆ‘ä»¬è¦é…ç½®çš„åœ°æ–¹ï¼‰
	 #sunle.com:æœåŠ¡å™¨é›†ç¾¤åå­—,è‡ªå®šä¹‰
    upstream  sunle.com {
		#æœåŠ¡å™¨é…ç½®   weightæ˜¯æƒé‡çš„æ„æ€ï¼Œæƒé‡è¶Šå¤§ï¼Œåˆ†é…çš„æ¦‚ç‡è¶Šå¤§ã€‚
		#127.0.0.1:8081ã€127.0.0.1:8082å¯¹åº”tomcatæœåŠ¡å™¨åœ°å€
        server    127.0.0.1:8081  weight=1;
        server    127.0.0.1:8082  weight=2;
    }

    server {  
        listen       81;
        server_name  localhost;
  
    location / {
	Â·		#é…ç½®åå‘ä»£ç†åœ°å€
            proxy_pass http://sunle.com;
            proxy_redirect default;
        }


        error_page   500 502 503 504  /50x.html;  
        location = /50x.html {  
            root   html;  
        }  
    }  
}  

<<<<<<< HEAD
=============================²ÎÊıËµÃ÷===============================================
²ÎÊıËµÃ÷£º
worker_processes£º¹¤×÷½ø³ÌµÄ¸öÊı£¬Ò»°ãÓë¼ÆËã»úµÄcpuºËÊıÒ»ÖÂ
worker_connections£ºµ¥¸ö½ø³Ì×î´óÁ¬½ÓÊı£¨×î´óÁ¬½ÓÊı=Á¬½ÓÊı*½ø³ÌÊı£©
include£ºÎÄ¼şÀ©Õ¹ÃûÓëÎÄ¼şÀàĞÍÓ³Éä±í
default_type£ºÄ¬ÈÏÎÄ¼şÀàĞÍ
sendfile £º¿ªÆô¸ßĞ§ÎÄ¼ş´«ÊäÄ£Ê½£¬sendfileÖ¸ÁîÖ¸¶¨nginxÊÇ·ñµ÷ÓÃsendfileº¯ÊıÀ´Êä³öÎÄ¼ş£¬¶ÔÓÚÆÕÍ¨Ó¦ÓÃÉèÎª on£¬Èç¹ûÓÃÀ´½øĞĞÏÂÔØµÈÓ¦ÓÃ´ÅÅÌIOÖØ¸ºÔØÓ¦ÓÃ£¬¿ÉÉèÖÃÎªoff£¬ÒÔÆ½ºâ´ÅÅÌÓëÍøÂçI/O´¦ÀíËÙ¶È£¬½µµÍÏµÍ³µÄ¸ºÔØ¡£×¢Òâ£ºÈç¹ûÍ¼Æ¬ÏÔÊ¾²»Õı³£°ÑÕâ¸ö¸Ä³Éoff¡£
keepalive_timeout£º³¤Á¬½Ó³¬Ê±Ê±¼ä£¬µ¥Î»ÊÇÃë
upstream£º·şÎñÆ÷µÄ¼¯ÈºÅäÖÃµã
=======

=============================å‚æ•°è¯´æ˜===============================================
å‚æ•°è¯´æ˜ï¼š
worker_processesï¼šå·¥ä½œè¿›ç¨‹çš„ä¸ªæ•°ï¼Œä¸€èˆ¬ä¸è®¡ç®—æœºçš„cpuæ ¸æ•°ä¸€è‡´
worker_connectionsï¼šå•ä¸ªè¿›ç¨‹æœ€å¤§è¿æ¥æ•°ï¼ˆæœ€å¤§è¿æ¥æ•°=è¿æ¥æ•°*è¿›ç¨‹æ•°ï¼‰
includeï¼šæ–‡ä»¶æ‰©å±•åä¸æ–‡ä»¶ç±»å‹æ˜ å°„è¡¨
default_typeï¼šé»˜è®¤æ–‡ä»¶ç±»å‹
sendfile ï¼šå¼€å¯é«˜æ•ˆæ–‡ä»¶ä¼ è¾“æ¨¡å¼ï¼ŒsendfileæŒ‡ä»¤æŒ‡å®šnginxæ˜¯å¦è°ƒç”¨sendfileå‡½æ•°æ¥è¾“å‡ºæ–‡ä»¶ï¼Œå¯¹äºæ™®é€šåº”ç”¨è®¾ä¸º onï¼Œå¦‚æœç”¨æ¥è¿›è¡Œä¸‹è½½ç­‰åº”ç”¨ç£ç›˜IOé‡è´Ÿè½½åº”ç”¨ï¼Œå¯è®¾ç½®ä¸ºoffï¼Œä»¥å¹³è¡¡ç£ç›˜ä¸ç½‘ç»œI/Oå¤„ç†é€Ÿåº¦ï¼Œé™ä½ç³»ç»Ÿçš„è´Ÿè½½ã€‚æ³¨æ„ï¼šå¦‚æœå›¾ç‰‡æ˜¾ç¤ºä¸æ­£å¸¸æŠŠè¿™ä¸ªæ”¹æˆoffã€‚
keepalive_timeoutï¼šé•¿è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œå•ä½æ˜¯ç§’
upstreamï¼šæœåŠ¡å™¨çš„é›†ç¾¤é…ç½®ç‚¹
>>>>>>> 324231f76a9c45604ecf27782e53f4a1ce378e40

